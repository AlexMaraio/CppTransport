# determine path to runtime system .h files
FIND_PATH(CPPTRANSPORT_INCLUDE_DIR         NAMES transport.h PATHS @CMAKE_INSTALL_PREFIX@ PATH_SUFFIXES include/cpptransport/transport-runtime)

# determine path to pre-installed SPLINTER and JsonCpp libraries
FIND_LIBRARY(CPPTRANSPORT_SPLINTER_LIBRARY NAMES splinter-static-3-0 PATHS @CMAKE_INSTALL_PREFIX@ PATH_SUFFIXES lib/cpptransport/lib NO_DEFAULT_PATH)
FIND_LIBRARY(CPPTRANSPORT_JSONCPP_LIBRARY  NAMES jsoncpp PATHS @CMAKE_INSTALL_PREFIX@ PATH_SUFFIXES lib/cpptransport/lib NO_DEFAULT_PATH)

# determine paths for system installation of Boost
FIND_PACKAGE(Boost REQUIRED COMPONENTS log system filesystem random timer date_time mpi thread serialization program_options regex)


SET(CPPTRANSPORT_INCLUDE_DIRS
  ${CPPTRANSPORT_INCLUDE_DIR}/..
  ${CPPTRANSPORT_INCLUDE_DIR}/../SPLINTER
  ${Boost_INCLUDE_DIRS}
)


SET(CPPTRANSPORT_LIBRARIES
  ${CPPTRANSPORT_SPLINTER_LIBRARY}
  ${CPPTRANSPORT_JSONCPP_LIBRARY}
  ${Boost_LIBRARIES}
)


INCLUDE(FindPackageHandleStandardArgs)
FIND_PACKAGE_HANDLE_STANDARD_ARGS(CppTransport DEFAULT_MSG
  CPPTRANSPORT_INCLUDE_DIR
  CPPTRANSPORT_SPLINTER_LIBRARY
  CPPTRANSPORT_JSONCPP_LIBRARY
  )


MARK_AS_ADVANCED(
  CPPTRANSPORT_INCLUDE_DIR
)
