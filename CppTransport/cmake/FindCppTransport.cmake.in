# determine path to runtime system .h files
FIND_PATH(CPPTRANSPORT_RUNTIME_INCLUDE     NAMES transport.h PATHS @CMAKE_INSTALL_PREFIX@ PATH_SUFFIXES include/cpptransport/transport-runtime)
FIND_PATH(CPPTRANSPORT_SQLITE_INCLUDE      NAMES sqlite3.h)

# determine path to pre-installed SPLINTER and JsonCpp libraries
FIND_LIBRARY(CPPTRANSPORT_SPLINTER_LIBRARY NAMES splinter-static-3-0 PATHS @CMAKE_INSTALL_PREFIX@ PATH_SUFFIXES lib/cpptransport/lib NO_DEFAULT_PATH)
FIND_LIBRARY(CPPTRANSPORT_JSONCPP_LIBRARY  NAMES jsoncpp PATHS @CMAKE_INSTALL_PREFIX@ PATH_SUFFIXES lib/cpptransport/lib NO_DEFAULT_PATH)
FIND_LIBRARY(CPPTRANSPORT_SQLITE_LIBRARY   NAMES sqlite3)

# determine paths for system installation of Boost
FIND_PACKAGE(Boost REQUIRED COMPONENTS log system filesystem random timer date_time mpi thread serialization program_options regex)

# determine paths for system installation of MPI
FIND_PACKAGE(MPI REQUIRED)


SET(CPPTRANSPORT_INCLUDE_DIRS
  ${CPPTRANSPORT_RUNTIME_INCLUDE}/..
  ${CPPTRANSPORT_RUNTIME_INCLUDE}/../SPLINTER
  ${CPPTRANSPORT_SQLITE_INCLUDE}
  ${Boost_INCLUDE_DIRS}
  ${MPI_CXX_INCLUDE_PATH}
)


SET(CPPTRANSPORT_LIBRARIES
  ${CPPTRANSPORT_SPLINTER_LIBRARY}
  ${CPPTRANSPORT_JSONCPP_LIBRARY}
  ${CPPTRANSPORT_SQLITE_LIBRARY}
  ${Boost_LIBRARIES}
  ${MPI_LIBRARIES}
)


INCLUDE(FindPackageHandleStandardArgs)
FIND_PACKAGE_HANDLE_STANDARD_ARGS(CppTransport DEFAULT_MSG
  CPPTRANSPORT_RUNTIME_INCLUDE
  CPPTRANSPORT_SQLITE_INCLUDE
  CPPTRANSPORT_SPLINTER_LIBRARY
  CPPTRANSPORT_JSONCPP_LIBRARY
  CPPTRANSPORT_SQLITE_LIBRARY
  )


MARK_AS_ADVANCED(
  CPPTRANSPORT_RUNTIME_INCLUDE
  CPPTRANSPORT_SQLITE_INCLUDE
)
